import React from 'react';
import {\n  Text as RNText,\n  TextProps as RNTextProps,\n  StyleSheet,\n  TextStyle,\n} from 'react-native';\nimport { useTheme } from '../../hooks/use-theme';\nimport { getThemeColors } from '../../hooks/use-theme';\nimport { Typography } from '../../constants/theme';\n\n// Text variant types\ntype TextVariant = \n  | 'display-large' | 'display-medium' | 'display-small'\n  | 'headline-large' | 'headline-medium' | 'headline-small'\n  | 'title-large' | 'title-medium' | 'title-small'\n  | 'body-large' | 'body-medium' | 'body-small'\n  | 'label-large' | 'label-medium' | 'label-small';\n\ntype TextColor = \n  | 'primary' | 'secondary' | 'accent'\n  | 'success' | 'warning' | 'error'\n  | 'text' | 'textSecondary' | 'textTertiary' | 'textDisabled'\n  | 'foreground' | 'mutedForeground';\n\ntype TextAlign = 'left' | 'center' | 'right' | 'justify';\n\ninterface TextProps extends Omit<RNTextProps, 'style'> {\n  variant?: TextVariant;\n  color?: TextColor;\n  align?: TextAlign;\n  weight?: 'light' | 'regular' | 'medium' | 'semibold' | 'bold' | 'heavy';\n  italic?: boolean;\n  underline?: boolean;\n  strikethrough?: boolean;\n  style?: TextStyle;\n}\n\nconst getVariantStyle = (variant: TextVariant): TextStyle => {\n  const variantMap = {\n    'display-large': Typography.styles.display.large,\n    'display-medium': Typography.styles.display.medium,\n    'display-small': Typography.styles.display.small,\n    'headline-large': Typography.styles.headline.large,\n    'headline-medium': Typography.styles.headline.medium,\n    'headline-small': Typography.styles.headline.small,\n    'title-large': Typography.styles.title.large,\n    'title-medium': Typography.styles.title.medium,\n    'title-small': Typography.styles.title.small,\n    'body-large': Typography.styles.body.large,\n    'body-medium': Typography.styles.body.medium,\n    'body-small': Typography.styles.body.small,\n    'label-large': Typography.styles.label.large,\n    'label-medium': Typography.styles.label.medium,\n    'label-small': Typography.styles.label.small,\n  };\n  \n  return variantMap[variant] || Typography.styles.body.medium;\n};\n\nexport const Text: React.FC<TextProps> = ({\n  children,\n  variant = 'body-medium',\n  color = 'text',\n  align = 'left',\n  weight,\n  italic = false,\n  underline = false,\n  strikethrough = false,\n  style,\n  ...props\n}) => {\n  const { colorScheme } = useTheme();\n  const colors = getThemeColors(colorScheme);\n  \n  const variantStyle = getVariantStyle(variant);\n  \n  const textStyle: TextStyle = {\n    ...variantStyle,\n    color: colors[color as keyof typeof colors] || colors.text,\n    textAlign: align,\n    fontWeight: weight ? Typography.weights[weight] : variantStyle.fontWeight,\n    fontStyle: italic ? 'italic' : 'normal',\n    textDecorationLine: (\n      underline && strikethrough ? 'underline line-through' :\n      underline ? 'underline' :\n      strikethrough ? 'line-through' :\n      'none'\n    ) as TextStyle['textDecorationLine'],\n  };\n  \n  return (\n    <RNText\n      style={[textStyle, style]}\n      {...props}\n    >\n      {children}\n    </RNText>\n  );\n};\n\n// Convenience components for common text styles\nexport const Heading1: React.FC<Omit<TextProps, 'variant'>> = (props) => (\n  <Text variant=\"headline-large\" {...props} />\n);\n\nexport const Heading2: React.FC<Omit<TextProps, 'variant'>> = (props) => (\n  <Text variant=\"headline-medium\" {...props} />\n);\n\nexport const Heading3: React.FC<Omit<TextProps, 'variant'>> = (props) => (\n  <Text variant=\"headline-small\" {...props} />\n);\n\nexport const Title: React.FC<Omit<TextProps, 'variant'>> = (props) => (\n  <Text variant=\"title-large\" {...props} />\n);\n\nexport const Subtitle: React.FC<Omit<TextProps, 'variant'>> = (props) => (\n  <Text variant=\"title-medium\" {...props} />\n);\n\nexport const Body: React.FC<Omit<TextProps, 'variant'>> = (props) => (\n  <Text variant=\"body-medium\" {...props} />\n);\n\nexport const Caption: React.FC<Omit<TextProps, 'variant'>> = (props) => (\n  <Text variant=\"body-small\" color=\"textSecondary\" {...props} />\n);\n\nexport const Label: React.FC<Omit<TextProps, 'variant'>> = (props) => (\n  <Text variant=\"label-medium\" {...props} />\n);

const styles = StyleSheet.create({
  // Additional styles can be added here if needed
});

export default Text;